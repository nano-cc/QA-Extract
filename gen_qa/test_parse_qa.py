#!/usr/bin/env python3
"""Quick manual test for generate_qa_llm.parse_qa using the provided sample text."""
from __future__ import annotations

import json

from generate_qa_llm import parse_qa


SAMPLE_TEXT = """### 第一步：总结输入论文文本的内容

该论文评估了一种用于治疗子宫肌瘤的复方草药制剂的安全性和质量。评估方法包括使用电感耦合等离子体质谱法（ICP-MS）检测重金属（砷、铅、汞、镉），液相色谱-串联质谱法（LC-MS/MS）检测黄曲霉毒素，气相色谱-串联质谱法（GC-MS/MS）检测农药残留，以及标准微生物检测方法检测总活菌数和病原体。结果显示，重金属和黄曲霉毒素水平在可接受范围内，未检出农药残留，微生物负荷低且无病原体。这些结果符合世界卫生组织（WHO）和印度药典（API）的标准，证实了该制剂的安全性，并支持其在子宫肌瘤管理中的临床前和临床评估。

### 第二步：判断是否有有价值的农药领域相关通用知识可以提取

根据上述总结，论文中涉及了农药残留的检测方法及其结果。因此，可以从中提取有关农药残留检测的通用知识。

### 第三步：开始提取问题

1. 哪些方法可以用于检测农药残留？
2. 气相色谱-串联质谱法（GC-MS/MS）在农药残留检测中的应用是什么？
3. 农药残留检测的目的是什么？
4. 农药残留检测的结果如何解读？
5. 农药残留检测的标准是什么？

### 第四步：对问题进行仔细检查

1. 哪些方法可以用于检测农药残留？ - 有效
2. 气相色谱-串联质谱法（GC-MS/MS）在农药残留检测中的应用是什么？ - 有效
3. 农药残留检测的目的是什么？ - 有效
4. 农药残留检测的结果如何解读？ - 有效
5. 农药残留检测的标准是什么？ - 有效

### 第五步：依据论文文本的内容进行回答

1. **哪些方法可以用于检测农药残留？**
   - 答案：气相色谱-串联质谱法（GC-MS/MS）是用于检测农药残留的方法之一。
2. **气相色谱-串联质谱法（GC-MS/MS）在农药残留检测中的应用是什么？**
   - 答案：气相色谱-串联质谱法（GC-MS/MS）用于检测农药残留，能够提供高灵敏度和准确性的结果。
3. **农药残留检测的目的是什么？**
   - 答案：农药残留检测的目的是确保草药制剂中不含可能对人体健康有害的农药残留。
4. **农药残留检测的结果如何解读？**
   - 答案：如果检测结果为未检出农药残留，则表明该制剂中没有农药残留，符合安全标准。
5. **农药残留检测的标准是什么？**
   - 答案：农药残留检测的标准应符合世界卫生组织（WHO）和印度药典（API）的标准。

### 第六步：输出答案

<result>
[
    {
        "question": "哪些方法可以用于检测农药残留？",
        "answer": "气相色谱-串联质谱法（GC-MS/MS）是用于检测农药残留的方法之一。"
    },
    {
        "question": "气相色谱-串联质谱法（GC-MS/MS）在农药残留检测中的应用是什么？",
        "answer": "气相色谱-串联质谱法（GC-MS/MS）用于检测农药残留，能够提供高灵敏度和准确性的结果。"
    },
    {
        "question": "农药残留检测的目的是什么？",
        "answer": "农药残留检测的目的是确保草药制剂中不含可能对人体健康有害的农药残留。"
    },
    {
        "question": "农药残留检测的结果如何解读？",
        "answer": "如果检测结果为未检出农药残留，则表明该制剂中没有农药残留，符合安全标准。"
    },
    {
        "question": "农药残留检测的标准是什么？",
        "answer": "农药残留检测的标准应符合世界卫生组织（WHO）和印度药典（API）的标准。"
    }
]
</result>"""


def main() -> None:
    parsed = parse_qa(SAMPLE_TEXT)
    print(json.dumps(parsed, ensure_ascii=False, indent=2))


if __name__ == "__main__":
    main()
